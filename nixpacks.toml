# Nixpacks configuration for Dokploy deployment
# TanStack Start (static preset) - outputs to .output/public

[phases.setup]
nixPkgs = ["nodejs_20", "bun"]

[phases.install]
cmds = ["bun install"]

[phases.build]
cmds = ["bun run build"]

[start]
cmd = "bunx serve .output/public -l tcp://0.0.0.0:${PORT:-3000}"

[variables]
NODE_ENV = "production"
